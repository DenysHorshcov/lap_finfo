{% extends "base.html" %}

{% block title %}{{ league.full_title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>{{ league.full_title }}</h2>
    <p><strong>Country:</strong> {{ league.country.full_title }}</p>
    
    <ul class="nav nav-tabs mt-4" id="leagueTabs">
        <li class="nav-item">
            <a class="nav-link active" id="clubs-tab" data-bs-toggle="tab" href="#clubs">Clubs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="matches-tab" data-bs-toggle="tab" href="#matches">Matches</a>
        </li>
    </ul>

    <div class="tab-content mt-3">
        <!-- Clubs Tab -->
        <div class="tab-pane fade show active" id="clubs">
            <h4>Clubs in {{ league.full_title }}</h4>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Club Name</th>
                    </tr>
                </thead>
                <tbody>
                    {% for club in clubs %}
                    <tr>
                        <td>{{ club.id }}</td>
                        <td>{{ club.full_title }}</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="2">No clubs found in this league.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Matches Tab -->
        <div class="tab-pane fade" id="matches">
            <h4>Matches in {{ league.full_title }}</h4>
            <ul class="list-group">
                {% for match in matches %}
                <li class="list-group-item">
                    <p>{{ match.home_club.full_title }} {{ match.home_goals }} - {{ match.away_goals }} {{ match.away_club.full_title }}</p>
                    <p>{{ match.date }}</p> 
                </li>
                {% empty %}
                <tr><td colspan="4">No matches found for this league.</td></tr>
                {% endfor %}
            </ul>
        </div>
    </div>

    <a href="{% url 'leagues_page' %}" class="btn btn-secondary">Back to Leagues</a>
</div>
{% endblock %}
